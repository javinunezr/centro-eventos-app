{"version":3,"file":"static/js/209.99465059.chunk.js","mappings":"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","sources":["mocks/handlers.js","mocks/browser.js"],"sourcesContent":["import { http, HttpResponse, delay } from 'msw';\nimport { clientes, mascotas, citasPorDia, historialMedico, obtenerCitaCompleta } from '../data/veterinariaData';\n\n// API REST y GraphQL mock para la veterinaria\nexport const handlers = [\n    // API REST - Lista de citas por día (máximo 8 citas)\n    http.get('*/api/citas', async ({ request }) => {\n        console.log('MSW interceptando citas:', request.url);\n        \n        const url = new URL(request.url);\n        const fecha = url.searchParams.get(\"fecha\");\n        \n        console.log('Fecha solicitada:', fecha);\n\n        await delay(800);\n\n        // Si no se especifica fecha, devolver citas de hoy\n        if (!fecha) {\n            const fechaHoy = '2025-12-18'; // Fecha por defecto para desarrollo\n            const citas = citasPorDia[fechaHoy] || [];\n            const citasCompletas = citas.map(obtenerCitaCompleta);\n            console.log('Devolviendo citas de hoy:', citasCompletas.length);\n            return HttpResponse.json(citasCompletas);\n        }\n\n        // Retorna las citas del día solicitado\n        const citas = citasPorDia[fecha];\n        if (!citas) {\n            console.log('No hay citas para la fecha:', fecha);\n            return HttpResponse.json([]);\n        }\n\n        const citasCompletas = citas.map(obtenerCitaCompleta);\n        console.log('Devolviendo citas para', fecha + ':', citasCompletas.length);\n        return HttpResponse.json(citasCompletas);\n    }),\n\n    // API REST - Lista de clientes\n    http.get('*/api/clientes', async () => {\n        console.log('MSW interceptando clientes');\n        await delay(500);\n        return HttpResponse.json(clientes);\n    }),\n\n    // API REST - Lista de mascotas\n    http.get('*/api/mascotas', async ({ request }) => {\n        console.log('MSW interceptando mascotas');\n        const url = new URL(request.url);\n        const clienteId = url.searchParams.get(\"clienteId\");\n        \n        await delay(500);\n        \n        if (clienteId) {\n            const mascotasCliente = mascotas.filter(m => m.duenoId === parseInt(clienteId));\n            return HttpResponse.json(mascotasCliente);\n        }\n        \n        return HttpResponse.json(mascotas);\n    }),\n\n    // API GraphQL mock para detalles de mascotas\n    http.post('*/api/graphql', async (req) => {\n        const body = await req.request.json();\n        \n        await delay(600);\n\n        // Consulta para obtener historial médico de una mascota\n        if (body.query && body.query.includes('historialMedico')) {\n            const idMatch = body.query.match(/historialMedico\\(mascotaId:\\s*(\\d+)\\)/);\n            if (idMatch) {\n                const mascotaId = parseInt(idMatch[1]);\n                const historial = historialMedico[mascotaId];\n                const mascota = mascotas.find(m => m.id === mascotaId);\n                const dueno = clientes.find(c => c.id === mascota?.duenoId);\n                \n                if (historial && mascota) {\n                    return HttpResponse.json({\n                        data: {\n                            historialMedico: {\n                                ...historial,\n                                mascota,\n                                dueno\n                            }\n                        }\n                    });\n                } else {\n                    return HttpResponse.json({\n                        errors: [{ message: `Historial médico para mascota con ID ${mascotaId} no encontrado` }]\n                    });\n                }\n            }\n        }\n\n        // Consulta para obtener detalles completos de un cliente\n        if (body.query && body.query.includes('clienteDetalle')) {\n            const idMatch = body.query.match(/clienteDetalle\\(id:\\s*(\\d+)\\)/);\n            if (idMatch) {\n                const clienteId = parseInt(idMatch[1]);\n                const cliente = clientes.find(c => c.id === clienteId);\n                const mascotasCliente = mascotas.filter(m => m.duenoId === clienteId);\n                \n                if (cliente) {\n                    return HttpResponse.json({\n                        data: {\n                            clienteDetalle: {\n                                ...cliente,\n                                mascotas: mascotasCliente\n                            }\n                        }\n                    });\n                } else {\n                    return HttpResponse.json({\n                        errors: [{ message: `Cliente con ID ${clienteId} no encontrado` }]\n                    });\n                }\n            }\n        }\n\n        return HttpResponse.json({\n            errors: [{ message: 'Consulta GraphQL no válida' }]\n        });\n    }),\n];\n","import { setupWorker } from 'msw/browser'\nimport { handlers } from './handlers'\n\nexport const worker = setupWorker(...handlers)\n\n// Configuración para desarrollo\nif (process.env.NODE_ENV === 'development') {\n  console.log('MSW handlers registrados:', handlers.length);\n  handlers.forEach((handler, index) => {\n    console.log(`Handler ${index + 1}:`, handler.info || 'Handler definido');\n  });\n}\n"],"names":["handlers","http","get","async","request","_ref","console","log","url","fecha","URL","searchParams","delay","fechaHoy","citasCompletas","citasPorDia","map","obtenerCitaCompleta","length","HttpResponse","json","citas","clientes","_ref2","clienteId","mascotasCliente","mascotas","filter","m","duenoId","parseInt","post","body","req","query","includes","idMatch","match","mascotaId","historial","historialMedico","mascota","find","id","dueno","c","data","_objectSpread","errors","message","concat","cliente","clienteDetalle","worker","setupWorker"],"ignoreList":[],"sourceRoot":""}